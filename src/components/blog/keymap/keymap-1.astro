<pre id="keymap-container"></pre>

<script>
  const ct = document.getElementById("keymap-container") as HTMLPreElement;
  if (ct) {
    window.addEventListener("keydown", keydown);
    window.addEventListener("keyup", keyup);

    let keys: { [key: string]: boolean } = {};
    function keydown(ev: KeyboardEvent) {
      keys[ev.code] = true;
      ct.innerHTML = JSON.stringify(keys, undefined, 2);
    }
    function keyup(ev: KeyboardEvent) {
      delete keys[ev.code];
      ct.innerHTML = JSON.stringify(keys, undefined, 2);
    }
  }
</script>
